# ğŸ’¡ Topic

- **ì—¬í–‰ ì—¬ì •ì„ ê¸°ë¡ê³¼ ê´€ë¦¬í•˜ëŠ” SNS ì„œë¹„ìŠ¤**
- ì‚¬ìš©ìê°€ ì—¬í–‰ ê¸°ë¡ê³¼ ì—¬í–‰ì— ë”°ë¥¸ ì—¬ì •ì„ ê¸°ë¡í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ì„œë¹„ìŠ¤

# ğŸ“ Summary

ì‹¤ì œ ë§ì€ ì‚¬ëŒë“¤ì€ ì—¬í–‰ì„ ë‹¤ë…€ì˜¬ ë•Œ í•œ ê³³ë§Œì„ ë‹¤ë…€ì˜¤ì§€ ì•Šê³  ì—¬ëŸ¬ ê°œì˜ ì¥ì†Œë¥¼ ë‹¤ë…€ì˜¤ë©° í¬ìŠ¤íŒ…ì„ í•œë‹¤. ì´ëŸ° ì ì„ ë³¸ë”° ì‚¬ìš©ìê°€ í•œ ê°œì˜ ì—¬í–‰ì„ ê¸°ë¡í•˜ê³  í•œ ê°œì˜ ì—¬í–‰ ì•ˆì— ì—¬ëŸ¬ ê°œì˜ ì—¬ì •(ì´ë™,ìˆ™ë°•,ì²´ë¥˜)íƒ€ì…ë“¤ì„ ê¸°ë¡í•  ìˆ˜ ìˆë‹¤.
ë‹¨ ê±´ì˜ ì—¬í–‰ ì¡°íšŒ(ì—¬í–‰ì— í¬í•¨ëœ ë‹¤ ê±´ì˜ ì—¬ì •ë„ ì¡°íšŒ) ë° ë‹¤ ê±´ì˜ ì—¬í–‰(ì—¬í–‰ì— í¬í•¨ëœ ì—¬ì •ì˜ ì´ë¦„ë„ ì¡°íšŒ)ì„ ì¡°íšŒí•  ìˆ˜ ìˆìœ¼ë©° ì—¬í–‰ê³¼ ì—¬ì • ê°ê°ì„ ë“±ë¡,ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

# â­ï¸ Key Function

- ì—¬í–‰
    - ì—¬í–‰ì— ì†í•´ìˆëŠ” ì—¬í–‰ ì´ë¦„,ì‹œì‘ ì‹œê°„,ì¢…ë£Œ ì‹œê°„,êµ­ë‚´ ì™¸ ì—¬ë¶€ë¥¼ ì €ì¥í•  ìˆ˜ ìˆë‹¤.
    - ì—¬í–‰ì— ì†í•´ìˆëŠ” ì—¬í–‰ ì´ë¦„,ì‹œì‘ ì‹œê°„,ì¢…ë£Œ ì‹œê°„,êµ­ë‚´ ì™¸ ì—¬ë¶€ ì „ë¶€ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.
    - ì—¬í–‰ì— ì†í•´ìˆëŠ” ì—¬í–‰ ì´ë¦„,ì‹œì‘ ì‹œê°„,ì¢…ë£Œ ì‹œê°„,êµ­ë‚´ ì™¸ ì—¬ë¶€ ì¤‘ ì¼ë¶€ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.
    - ì—¬í–‰ ë‹¨ ê±´ì„ ì¡°íšŒí•˜ë©´ì„œ ì—¬í–‰ì— í¬í•¨ëœ ì—¬ì •ë“¤ë„ ê°™ì´ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
    - ì—¬í–‰ ë‹¤ ê±´ì„ ì¡°íšŒí•˜ë©´ì„œ ì—¬í–‰ë“¤ì— í¬í•¨ëœ ì—¬ì •ë“¤ì˜ ì´ë¦„ì„ ê°™ì´ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
- ì—¬ì •
    - ì—¬í–‰ IDë¥¼ í†µí•´ í•´ë‹¹í•˜ëŠ” ì—¬í–‰ì— ì—¬ì •ì˜ íƒ€ì…(ì´ë™,ìˆ™ë°•,ì²´ë¥˜)ë“±ì„ ì§€ì •í•´ ì €ì¥í•  ìˆ˜ ìˆë‹¤.

# ğŸ›  Tech Stack

`Spring Boot`, `Github` ,`Git` `MySQL` ,`Docker`

# âš™ï¸ Architecture

`Domain-Driven Design Architecture`

# ğŸ§‘ğŸ»â€ğŸ’» Team

- ë°±ì—”ë“œ ê°œë°œì 4ëª…

# ğŸ¤šğŸ» Part

- ê³µí†µ ì˜ˆì™¸ ì²˜ë¦¬
- ì—¬í–‰ì˜ POST,PUT,PATCH API ê°œë°œ
- ê³µí†µ API RESPONSE ì²˜ë¦¬
- DB ERD ì„¤ê³„

# ğŸ¤” Learned

- Exception Handlerë¥¼ í†µí•œ ê³µí†µ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì§ì ‘ í•´ë´„ìœ¼ë¡œì¨ ì˜ˆì™¸ ì²˜ë¦¬ì˜ ì§‘ì¤‘í™” ë° @Validë¥¼ í†µí•œ ìœ íš¨ì„± ì²´í¬ì— ëŒ€í•œ íë¦„ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
- ERRORCODE ë° VALIDATIONCODEë¥¼ ENUM íƒ€ì…ìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ë¥¼ í¸í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
- APIë¥¼ í˜¸ì¶œí•˜ì˜€ì„ë•Œ ê³µí†µ API RESPONSEë¥¼ ì ìš©í•˜ì—¬ ê³µí†µì ìœ¼ë¡œ ê²°ê³¼ê°’ì„ ë°›ì„ ìˆ˜ ìˆë„ë¡ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
- ì§ì ‘ DB ì„¤ê³„ë¥¼ í•´ë´„ìœ¼ë¡œì¨ DBì— ëŒ€í•´ì„œ ì–´ë–»ê²Œ ì„¤ê³„ë¥¼ í•´ì•¼ë˜ëŠ”ì§€ì— ëŒ€í•´ ì´í•´í•˜ê²Œ ë˜ì—ˆë‹¤.
- Docker ì´ë¯¸ì§€ì— MySQL ì„œë²„ë¥¼ ì˜¬ë¦¼ìœ¼ë¡œì¨ Dockerì— ëŒ€í•œ ì‚¬ìš©ë²•ì„ ì¢€ ë” ì´í•´í•˜ê²Œ ë˜ì—ˆë‹¤.

# ğŸ”Œ í”„ë¡œì íŠ¸ ì‹¤í–‰ë°©ë²• 


- ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì½”ë“œ ë‹¤ìš´ìœ¼ë¡œë§Œ ì‹¤í–‰ì´ ë¶ˆê°€í•˜ê³  DBê°€ Dockerì— ì´ë¯¸ì§€ íŒŒì¼ë¡œ ì˜¬ë¼ê°€ ìˆê¸°ì— Docker ì‹¤í–‰ ë°©ë²•ì´ í•„ìš”í•˜ë‹¤. 
í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•´ë³´ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì˜ ì„¤ì •ê³¼ íŒŒì¼ë“¤ì´ í•„ìš”í•˜ë‹¤.
<img width="649" alt="Untitled" src="https://github.com/Parkgeonmoo/Travel-Record2/assets/50697545/8c12f1cb-f58a-4796-89c1-b5f390b088a6">

ê·¸ë˜ì„œ ìœ„ì˜ ê·¸ë¦¼ê³¼ ê°™ì€ ê´€ê³„ë¥¼ ê°€ì§€ê³  ë™ì‘í•œë‹¤.

1. SpringBoot ì—ì„œ 3305Portë¡œ DBê´€ë ¨ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.
2. Docker Engineì´  3305Port ìš”ì²­ì„ ë°›ëŠ”ë‹¤.
3. ì„¤ì •ì— ë”°ë¼ Docker Engineì´ 3305Port ìš”ì²­ì„ MySQLì˜ í¬íŠ¸ì¸ 3306Portë¡œ ì „ë‹¬í•´ì¤Œìœ¼ë¡œì„œ ë™ì‘í•˜ê²Œ ëœë‹¤.

## DB ì—°ê²° ë°©ë²•

### Docker ì„¤ì¹˜

ë„ì»¤ë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ” ì‹¤í–‰í™˜ê²½ì— Dockerê°€ ì„¤ì¹˜ë˜ì–´ìˆì–´ì•¼ í•œë‹¤.

Windowì˜ ê²½ìš° **WSL**ì´ë¼ëŠ” Windows ìš´ì˜ì²´ì œì—ì„œ ê²½ëŸ‰í™”ëœ ê°€ìƒí™” ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ Linux ìš´ì˜ ì²´ì œë¥¼ êµ¬ë™í•  ìˆ˜ ìˆë„ë¡ í•´ ì£¼ëŠ” í”„ë¡œê·¸ë¨ì„ ê¹ í›„, DockerDesktopì„ ì„¤ì¹˜í•˜ë©´ ëœë‹¤.

ì•„ë˜ ì˜ ì •ë¦¬ëœ ì„¤ì¹˜ ê´€ë ¨ ë¸”ë¡œê·¸ ê¸€ì´ë‹¤.

**WSL ì„¤ì¹˜**

[WSL2 ì‚¬ìš© ì„¤ì •(ìœˆë„ìš°ì—ì„œ Ubuntu ì‚¬ìš©í•˜ëŠ” ë°©ë²•)](https://axce.tistory.com/110?category=1030982)

Docker Desktop ì„¤ì¹˜

[[Docker] ìœˆë„ìš° ë„ì»¤ ì„¤ì¹˜ë°©ë²•(window 11)](https://axce.tistory.com/121)

### ì‹¤í–‰

Docker ì„¤ì¹˜ë¥¼ ë§ˆì³¤ìœ¼ë©´ ì´ì œ Docker Conmtainerì„ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

<img width="179" alt="ìŠ¤í¬ë¦°ìƒ· 2023-10-28 151421" src="https://github.com/Group5-toy/KDT_Y_BE_Toy_Project2/assets/97028441/6e236e2f-870f-448e-aee5-42190a926fba">

docker-compose.yml íŒŒì¼ì—ì„œ ë¹¨ê°„ìƒìë¡œ í‘œì‹œëœ ì‹¤í–‰ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìë™ìœ¼ë¡œ MySQL ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ì—¬ ë™ì‘ì‹œí‚¨ë‹¤.

ê·¸ë ‡ê²Œ ë˜ë©´ 3305 í¬íŠ¸ë¡œ ì—°ê²°ë˜ëŠ” MySQL ì„œë²„ê°€ ë™ì‘í•˜ì—¬ SpringBootì™€ ì—°ê²°ë˜ì–´ ë™ì‘í•˜ê²Œ ëœë‹¤.

- í•„ìš”í•œ íŒŒì¼ ë¦¬ìŠ¤íŠ¸
1. MySQLì˜ DockerFile 
2. MySQL ì´ˆê¸°ì„¤ì •ì„ ìœ„í•œ init.sql
3. MySQL ì»¨í…Œì´ë„ˆ ì‹¤í–‰ì„ ìœ„í•œ docker-compose.yml íŒŒì¼

### DockerFile

- docker_databaseë¼ëŠ” í´ë”ì•ˆì— MySQL ë„ì»¤ ì´ë¯¸ì§€ ì„¤ì •ì— ëŒ€í•œ íŒŒì¼ë“¤ì„ ë‹´ì•„ ë‘ì—ˆë‹¤. 
ê·¸ ì¤‘ í•˜ë‚˜ì¸ DockerFile ì´ë‹¤.

```tsx
FROM mysql:latest

MAINTAINER team_five

COPY init.sql /docker-entrypoint-initdb.d

ENV MYSQL_ROOT_PASSWORD=root

VOLUME /mysql_data

EXPOSE 3306
```

### init.sql

- docker_database í´ë” ì•ˆì— ìˆëŠ” MySQL ì´ˆê¸°ì„¤ì •ì„ ìœ„í•œ init.sql íŒŒì¼ì´ë‹¤.

```tsx
ALTER USER 'root'@'localhost' IDENTIFIED BY 'root';
flush privileges;

create database if not exists trip_record;

use trip_record;
```

### docker-compose.yml

- MySQL ì»¨í…Œì´ë„ˆ ì‹¤í–‰ì„ ìœ„í•œ docker-compose.yml íŒŒì¼ì´ë‹¤. 
ì•ì„œ ì‘ì„±í•œ ì´ë¯¸ì§€, ì´ˆê¸° ì„¤ì • íŒŒì¼ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ëœ ì´ë¯¸ì§€ë¥¼ ì»¨í…Œì´ë„ˆí™” í•´ì„œ ë™ì‘ì‹œí‚¨ë‹¤.

```tsx
version: '3'
services:
  mysql-server:
    container_name: trip-mysql-server
    build:
      context: ./docker_database
      dockerfile: Dockerfile
    ports:
      - "3305:3306"
```

í•´ë‹¹ íŒŒì¼ì„ ì‹¤í–‰ì‹œí‚´ìœ¼ë¡œì„œ ë…ë¦½ì ì¸ MySQL ì„œë²„ê°€ ìƒì„±ë˜ë©° ì—°ê²°ì´ ë˜ì–´ í”„ë¡œì íŠ¸ë¥¼ í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆë‹¤.


# ğŸ“· Screenshot
### 1. ì—¬í–‰ ì „ì²´ ì¡°íšŒ
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fm8Ski%2FbtszjugafGi%2FCvYNEkTauXRmkDbTFSESO1%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbNjOP1%2FbtszjzuRy0K%2FIBuqwyZgOx5sK3RsZHPee0%2Fimg.png)
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FTEAHH%2FbtsziQju6Tp%2F5n5k1LgVuELhdVuaItKN7k%2Fimg.png)

### 2. ì—¬í–‰ ë‹¨ê±´ ì¡°íšŒ
### 2-1. Pathvariable
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FdcFJfc%2FbtsznAltvWa%2FTkIpJG4DY1MBWu8QuJCyPK%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbLoov1%2FbtszlvEW8dZ%2FPbuV7HFtvldB9xsnfsSvlk%2Fimg.png)
### 2-2. QueryParam
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FRdwUg%2FbtszmAzalCB%2Fpj4cZShknL3eeajeoYnde0%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FlzCJt%2Fbtszlj5KKft%2F5KgvBjhDefeKw3XRWKyjA0%2Fimg.png)


### 3. ì—¬í–‰ ë“±ë¡
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbVswVr%2FbtszjFV8u5n%2F6lZI1L2cRUXSn42IwEKTNk%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbWt52p%2Fbtszj33IwMb%2FPyFB4OOY5kp8vko7VtbDN1%2Fimg.png)

### 4. ì—¬í–‰ ì •ë³´ ì¼ë¶€ ìˆ˜ì •
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fbl21JV%2FbtszhunlRnB%2FGSE27lixfOQ9Sji8kLJKM0%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F09Mc2%2FbtszlHZBRDo%2FHkGplxldXpzPJYPYyuug7K%2Fimg.png)

### 5. ì—¬í–‰ ì •ë³´ ì „ì²´ ìˆ˜ì •
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FdlQYLd%2Fbtszk3aSEba%2FmE9u3IPc2exUzoalINBeR0%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F1VUrj%2FbtszkyCdtMN%2FjqNIrIiq9KkCKak6oDGXn1%2Fimg.png)

### 6. ì—¬ì • ë“±ë¡
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fbxhb9C%2Fbtszln8aA9j%2FgYEjoaqkzUYCy0qgBRniI0%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FMlcLc%2FbtsziQw4dfe%2FSR29K5JPx8ZzViZIYQ3jVk%2Fimg.png)

### 7. ì—¬ì • ì •ë³´ ìˆ˜ì •
### 7-1. ìˆ™ë°•ì •ë³´
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FszjHW%2FbtszoikHMBb%2FOmlUhxbBw5WgkQMlmO1ke0%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F0s7Td%2FbtszlIEdAht%2FFmTPlJK0IGyPQZnvpBVFk1%2Fimg.png)
### 7-2. ì´ë™ì •ë³´
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcOUIGy%2Fbtszmy2ptC1%2FwdVoenBVqhlrPaYFaM3XCK%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Foy2ro%2FbtsznCKmt0m%2FLYWu63TKfHqTXMk0Ua0hH0%2Fimg.png)
### 7-3. ë°©ë¬¸ì •ë³´
* **ìš”ì²­**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FPh3Wl%2Fbtszj4nZ7cD%2FuYdjdgDRk9ekjKKUBkPwb0%2Fimg.png)
* **ì‘ë‹µ**
<br>![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcuGZNK%2Fbtszl0Sgqgw%2F2uQTDYe9TdIGMcq29JP07k%2Fimg.png)
